<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.280">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2024-01-26">

<title>Class 2 Lab: Mapping the NYC 311 dataset</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
</style>


<script src="STGIS_lab-2_SP24_files/libs/clipboard/clipboard.min.js"></script>
<script src="STGIS_lab-2_SP24_files/libs/quarto-html/quarto.js"></script>
<script src="STGIS_lab-2_SP24_files/libs/quarto-html/popper.min.js"></script>
<script src="STGIS_lab-2_SP24_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="STGIS_lab-2_SP24_files/libs/quarto-html/anchor.min.js"></script>
<link href="STGIS_lab-2_SP24_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="STGIS_lab-2_SP24_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="STGIS_lab-2_SP24_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="STGIS_lab-2_SP24_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="STGIS_lab-2_SP24_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<style>html{ scroll-behavior: smooth; }</style>


<link rel="stylesheet" href="STGIS_lab-2_SP24_files/styles.css">
</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#preamble" id="toc-preamble" class="nav-link active" data-scroll-target="#preamble">Preamble</a></li>
  <li><a href="#data" id="toc-data" class="nav-link" data-scroll-target="#data">Data</a></li>
  <li><a href="#step-1" id="toc-step-1" class="nav-link" data-scroll-target="#step-1">Step 1</a></li>
  <li><a href="#step-2" id="toc-step-2" class="nav-link" data-scroll-target="#step-2">Step 2</a></li>
  <li><a href="#step-3" id="toc-step-3" class="nav-link" data-scroll-target="#step-3">Step 3</a></li>
  <li><a href="#step-4" id="toc-step-4" class="nav-link" data-scroll-target="#step-4">Step 4</a></li>
  <li><a href="#step-5" id="toc-step-5" class="nav-link" data-scroll-target="#step-5">Step 5</a></li>
  <li><a href="#step-6" id="toc-step-6" class="nav-link" data-scroll-target="#step-6">Step 6</a></li>
  <li><a href="#step-7" id="toc-step-7" class="nav-link" data-scroll-target="#step-7">Step 7</a></li>
  <li><a href="#step-8" id="toc-step-8" class="nav-link" data-scroll-target="#step-8">Step 8</a></li>
  <li><a href="#concluding-remarks" id="toc-concluding-remarks" class="nav-link" data-scroll-target="#concluding-remarks">Concluding Remarks</a></li>
  </ul>
</nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Class 2 Lab: Mapping the NYC 311 dataset</h1>
<p class="subtitle lead">Spring 2024 | <a href="https://courses.newschool.edu/courses/UENV3200/">UENV3200</a>, <a href="https://courses.newschool.edu/courses/UURB3210/">UURB3210</a></p>
</div>



<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">January 26, 2024</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<section id="preamble" class="level2">
<h2 class="anchored" data-anchor-id="preamble">Preamble</h2>
<p>In this second technical lab, we will complete any remaining steps of Monday’s demonstration lab then turn to the NYC 311 dataset. These lab steps should be used extensively to aid with the completion of the second assignment due Sunday evening at 11:59pm.</p>
<ul>
<li><a href="https://gis-nspe-tns.github.io/STGIS_UENV3200_UURB3210_sp24/demos/c2_lecture_demo.html">Class 2 Demonstration Lab</a></li>
<li><a href="https://gis-nspe-tns.github.io/STGIS_UENV3200_UURB3210_sp24/assignments/STGIS_assignment-2_SP24.html">Class 2 Assignment</a></li>
</ul>
</section>
<section id="data" class="level2">
<h2 class="anchored" data-anchor-id="data">Data</h2>
<p>The data for this demonstration lab comes from a previous NYC 311 filtering process which will be detailed in this lab and used in this week’s assignment - located <a href="https://www.dropbox.com/s/0i07rnkkbedwcp5/311_Service_Requests_from_2010_to_Present.csv?dl=1">HERE</a>.</p>
<p>Once the download is complete, place the <code>.csv</code> into a directory you make entitled <code>c2lab2</code>.</p>
<p>Connect a new <code>.mxd</code> via ArcCatalog to the new <code>c2lab</code> directory and save that new <code>.mxd</code> as <code>c2lab.mxd</code></p>
</section>
<section id="step-1" class="level2">
<h2 class="anchored" data-anchor-id="step-1">Step 1</h2>
<ul>
<li>Utilize the <em>ArcCatalog &gt; Create Feature Class &gt; From XY Table</em> to produce a feature class for the NYC data points. Point the results to the <code>c2lab2</code>, saving as a <code>.shp</code> with a coordinate system <code>WGS84</code>. View results in <em>TOC</em> and the <em>Data Frame</em>:</li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="STGIS_lab-2_SP24_files/img/Screenshot%20(7).png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Create Feature Class from XY Table</figcaption><p></p>
</figure>
</div>
<ul>
<li>View Results:</li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="STGIS_lab-2_SP24_files/img/Screenshot%202023-01-27%20at%201.13.40%20PM.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">311 Spatial Points w/in Manhattan</figcaption><p></p>
</figure>
</div>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>When specifying the X and Y fields, make sure to point <code>latitude</code> to the Y field, and <code>longitude</code> to the X field; a common mistake is a backwards pairing order which results in an incorrect mapping.</p>
</div>
</div>
</section>
<section id="step-2" class="level2">
<h2 class="anchored" data-anchor-id="step-2">Step 2</h2>
<p>Save the results from Step 1 as <code>c2lab.mxd</code>. Next, we will navigate to the 311 dataset via the <a href="https://opendata.cityofnewyork.us/how-to/">Getting Started with Open Data</a> directions.</p>
<p>Our Filter conditions will be as follows, which results in 36,090 observations:</p>
<p><code>Filter Conditions = Latitude NOT blank | Manhattan | Graffiti</code></p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="STGIS_lab-2_SP24_files/img/311download.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">311 dataset</figcaption><p></p>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="STGIS_lab-2_SP24_files/img/311download2.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">filter conditions</figcaption><p></p>
</figure>
</div>
<p>As we have already mapped this filter condition (36,090 observations within Manhattan with a Complaint Type as Graffiti), we will not continue with a download process.</p>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>For Assignment 2, utilize a <code>Created Date</code> filter to restrict your results to a manageable number of observations.</p>
</div>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="STGIS_lab-2_SP24_files/img/Screen%20Shot%202023-01-27%20at%201.56.14%20PM.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><code>Created Date</code> filter application</figcaption><p></p>
</figure>
</div>
</section>
<section id="step-3" class="level2">
<h2 class="anchored" data-anchor-id="step-3">Step 3</h2>
<p>Download the <a href="https://www.nyc.gov/site/planning/data-maps/open-data/districts-download-metadata.page">NYC Borough Boundaries from NYC City Planning</a></p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="STGIS_lab-2_SP24_files/img/Screenshot%202023-01-27%20at%202.13.30%20PM.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Borough Boundaries</figcaption><p></p>
</figure>
</div>
<p>Unzip this dataset and place into the <code>c2lab</code> directory. Import the <code>nybb.shp</code> into the <code>.mxd</code>. Notice how NYC looks like its ‘lying down on its side’; this is a map projection issue. Here we are using the <code>WGS84</code> coordinate system which elongates features in a west &gt; east orientation.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="STGIS_lab-2_SP24_files/img/Screenshot%202023-01-27%20at%202.30.12%20PM.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Borough Boundaries</figcaption><p></p>
</figure>
</div>
<p>In order for NYC to display ‘correctly’; that is NOT ‘lying down on its side’, we need to do a data frame adjustment. Click on <em>Data Frame Properties</em> within the <em>Data Frame</em> and change the coordinate system for the data frame to <code>NAD_1983_StatePlane_New_York_Long_Island_FIPS_3104_Feet</code>.</p>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>Search for this particular projected coordinate system using a search term like <code>new york</code> or better yet <code>FIPS 3104</code>.</p>
</div>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="STGIS_lab-2_SP24_files/img/Screenshot%20(8).png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">FIPS 3104</figcaption><p></p>
</figure>
</div>
</section>
<section id="step-4" class="level2">
<h2 class="anchored" data-anchor-id="step-4">Step 4</h2>
<p>Next, we will run the <code>Tabulate Intersection</code> tool that we previewed in <a href="https://gis-nspe-tns.github.io/STGIS_UENV3200_UURB3210_sp24/demos/c2_lecture_demo.html">Class 2 Demonstration Lab</a>.</p>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>Note that this tool will now take some time as we are asking for 36K+ points to be evaluated. Make sure to send the results to the default.gdb location, not the <code>c2lab</code> directory. This will save time and create efficiency.</p>
</div>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="STGIS_lab-2_SP24_files/img/Screenshot%202023-01-27%20at%202.47.09%20PM.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Tabulate Intersection with correct input/output</figcaption><p></p>
</figure>
</div>
<p>Save the <code>c2lab.mxd</code> with the table result in the project <em>TOC</em>.</p>
</section>
<section id="step-5" class="level2">
<h2 class="anchored" data-anchor-id="step-5">Step 5</h2>
<p>Open the tabular result from Step 4 and note both <code>Shape_Area</code> and <code>PNT_COUNT</code>. In your assignment, you will expect NO <code>NULL</code> values as you will very likely have many points in all boroughs, not just Manhattan.</p>
<p><img src="STGIS_lab-2_SP24_files/img/Screenshot%202023-01-27%20at%202.53.40%20PM.png" class="img-fluid" alt="Tabulate Intersection result"> Next we will <code>join</code> this table to the original <code>nybb.shp</code> utilizing the following join fields, originating the join from the <code>nybb.shp</code>:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="STGIS_lab-2_SP24_files/img/Screenshot%202023-01-27%20at%202.53.17%20PM.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Table Join</figcaption><p></p>
</figure>
</div>
<p>In order for <code>table joins</code> to exist beyond temporary memory, they must be exported to a directory as a new <code>.shp</code>. We will do this export process together, naming the new feature <code>nybb_tabulated</code>:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="STGIS_lab-2_SP24_files/img/Screenshot%202023-01-27%20at%202.54.48%20PM.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Export <code>.shp</code></figcaption><p></p>
</figure>
</div>
<p>Review result at table:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="STGIS_lab-2_SP24_files/img/Screenshot%202023-01-27%20at%202.55.05%20PM.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Table result</figcaption><p></p>
</figure>
</div>
</section>
<section id="step-6" class="level2">
<h2 class="anchored" data-anchor-id="step-6">Step 6</h2>
<p>Next we will create two new fields so that we can derive a rate of observations per borough polygon in addition to the absolute count in the <code>PNT_COUNT</code> column:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="STGIS_lab-2_SP24_files/img/Screenshot%202023-01-27%20at%202.56.23%20PM.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Field 1</figcaption><p></p>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="STGIS_lab-2_SP24_files/img/Screenshot%202023-01-27%20at%202.55.47%20PM.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Field 2</figcaption><p></p>
</figure>
</div>
</section>
<section id="step-7" class="level2">
<h2 class="anchored" data-anchor-id="step-7">Step 7</h2>
<p>Currently the <code>Shape_Area</code> column is area measured in square feet. How do we know this? We can check the layer properties to check the linear unit of the layers coordinate system:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="STGIS_lab-2_SP24_files/img/Screenshot%202023-01-27%20at%203.23.40%20PM.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Field 2</figcaption><p></p>
</figure>
</div>
<p>Square Feet is not a meaningful rate unit when dealing with polygons the size of NYC boroughs. We’d be much better off expressing our rate as <code>n per square miles</code> not <code>n per square feet</code>. To do this transformation, we will use the <em>Field Calculator</em> and the following formula in the <code>Shape_Area</code> column:</p>
<p><code>Shape_Area * 0.00000003587006428</code></p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="STGIS_lab-2_SP24_files/img/Screenshot%20(9).png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Field Calculator</figcaption><p></p>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="STGIS_lab-2_SP24_files/img/Screenshot%202023-01-27%20at%203.29.35%20PM.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Field Calculator w/ formula</figcaption><p></p>
</figure>
</div>
<p>Next, within the <code>ct_rate</code> column, we will simply divide the <code>PNT_COUNT</code> column by the <code>sq_mi</code> column:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="STGIS_lab-2_SP24_files/img/Screenshot%202023-01-27%20at%203.31.06%20PM.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Field Calculator w/ rate formula</figcaption><p></p>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="STGIS_lab-2_SP24_files/img/Screenshot%202023-01-27%20at%203.40.46%20PM.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Field Calculator w/ rate formula &gt; result</figcaption><p></p>
</figure>
</div>
</section>
<section id="step-8" class="level2">
<h2 class="anchored" data-anchor-id="step-8">Step 8</h2>
<p>With our calculations complete, for the assignment we will want to export these results in a nice, compact efficient table to augment the main map frame for our 311 service points atop the 5 NYC boroughs.</p>
<p>To start, turn off fields that are unneeded:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="STGIS_lab-2_SP24_files/img/Screenshot10.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Field Calculator w/ rate formula &gt; result</figcaption><p></p>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="STGIS_lab-2_SP24_files/img/Screenshot%202023-01-27%20at%203.56.53%20PM.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Tailored Result</figcaption><p></p>
</figure>
</div>
<p>Next, we can create alias names that will export to the layout for better table legibility:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="STGIS_lab-2_SP24_files/img/Screenshot%202023-01-27%20at%203.57.51%20PM.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Table Alias Feature</figcaption><p></p>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="STGIS_lab-2_SP24_files/img/Screenshot%202023-01-27%20at%203.59.18%20PM.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Tailored Result</figcaption><p></p>
</figure>
</div>
<p>Before final table export to layout, we can alter the table appearance as follows:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="STGIS_lab-2_SP24_files/img/Screenshot%202023-01-27%20at%203.59.43%20PM.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Table Appearance</figcaption><p></p>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="STGIS_lab-2_SP24_files/img/Screenshot%20(11).png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Export Table to Layout</figcaption><p></p>
</figure>
</div>
<p>Finally, preview the table export and save the project <code>.mxd</code>:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="STGIS_lab-2_SP24_files/img/Screenshot%202023-01-27%20at%204.01.46%20PM.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Export Table to Layout</figcaption><p></p>
</figure>
</div>
</section>
<section id="concluding-remarks" class="level2">
<h2 class="anchored" data-anchor-id="concluding-remarks">Concluding Remarks</h2>
<p>In this tutorial lab for the <a href="https://data.cityofnewyork.us/Social-Services/311-Service-Requests-from-2010-to-Present/erm2-nwe9">311 Dataset</a>, we started with latitude and longitude coordinate pairings for thematic observation points first filtered at the data source. We then mapped these points within ArcGIS, creating a project with <a href="https://www.nyc.gov/site/planning/data-maps/open-data/districts-download-metadata.page">NYC Planning</a> features for thematic context. Next, we derived valuable summarizations through a table join and table manipulation process. We finished with the necessary components to creating a final output featuring both cartographic features and table summary results.</p>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var filterRegex = new RegExp(/^(?:http:|https:)\/\/www\.quarto\.org\/custom/);
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
    var links = window.document.querySelectorAll('a:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
          // target, if specified
          link.setAttribute("target", "_blank");
          // default icon
          link.classList.add("external");
      }
    }
});
</script>
</div> <!-- /content -->



<script src="STGIS_lab-2_SP24_files/libs/quarto-html/zenscroll-min.js"></script>
</body></html>