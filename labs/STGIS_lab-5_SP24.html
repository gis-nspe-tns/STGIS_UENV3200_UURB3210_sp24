<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.280">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2024-02-20">

<title>Class 5 Lab: The Raster Model</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
</style>


<script src="STGIS_lab-5_SP24_files/libs/clipboard/clipboard.min.js"></script>
<script src="STGIS_lab-5_SP24_files/libs/quarto-html/quarto.js"></script>
<script src="STGIS_lab-5_SP24_files/libs/quarto-html/popper.min.js"></script>
<script src="STGIS_lab-5_SP24_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="STGIS_lab-5_SP24_files/libs/quarto-html/anchor.min.js"></script>
<link href="STGIS_lab-5_SP24_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="STGIS_lab-5_SP24_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="STGIS_lab-5_SP24_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="STGIS_lab-5_SP24_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="STGIS_lab-5_SP24_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<style>html{ scroll-behavior: smooth; }</style>


<link rel="stylesheet" href="STGIS_lab-5_SP24_files/styles.css">
</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#preamble" id="toc-preamble" class="nav-link active" data-scroll-target="#preamble">Preamble</a></li>
  <li><a href="#data" id="toc-data" class="nav-link" data-scroll-target="#data">Data</a></li>
  <li><a href="#assignment-step-1" id="toc-assignment-step-1" class="nav-link" data-scroll-target="#assignment-step-1">Assignment Step 1</a></li>
  <li><a href="#assignment-step-2" id="toc-assignment-step-2" class="nav-link" data-scroll-target="#assignment-step-2">Assignment Step 2</a></li>
  <li><a href="#assignment-step-3" id="toc-assignment-step-3" class="nav-link" data-scroll-target="#assignment-step-3">Assignment Step 3</a></li>
  <li><a href="#assignment-step-4" id="toc-assignment-step-4" class="nav-link" data-scroll-target="#assignment-step-4">Assignment Step 4</a></li>
  <li><a href="#assignment-step-6" id="toc-assignment-step-6" class="nav-link" data-scroll-target="#assignment-step-6">Assignment Step 6</a></li>
  <li><a href="#assignment-step-7" id="toc-assignment-step-7" class="nav-link" data-scroll-target="#assignment-step-7">Assignment Step 7</a></li>
  <li><a href="#assignment-step-8---map-layout-deliverable" id="toc-assignment-step-8---map-layout-deliverable" class="nav-link" data-scroll-target="#assignment-step-8---map-layout-deliverable">Assignment Step 8 - Map layout &amp; Deliverable</a></li>
  <li><a href="#concluding-remarks" id="toc-concluding-remarks" class="nav-link" data-scroll-target="#concluding-remarks">Concluding Remarks</a></li>
  </ul>
</nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Class 5 Lab: The Raster Model</h1>
<p class="subtitle lead">Spring 2024 | <a href="https://courses.newschool.edu/courses/UENV3200/">UENV3200</a>, <a href="https://courses.newschool.edu/courses/UURB3210/">UURB3210</a></p>
</div>



<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">February 20, 2024</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="STGIS_lab-5_SP24_files/img/header.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><em>The Raster Model</em></figcaption><p></p>
</figure>
</div>
<section id="preamble" class="level2">
<h2 class="anchored" data-anchor-id="preamble">Preamble</h2>
<p>In this fifth technical lab, we will complete any remaining steps of Monday’s demonstration lab then turn to steps necessary for the fifth assignment. These lab steps should be used extensively to aid with the completion of the fifth assignment due Sunday evening at 11:59pm.</p>
<ul>
<li><a href="https://gis-nspe-tns.github.io/STGIS_UENV3200_UURB3210_sp24/labs/STGIS_lab-5_SP24.html">Class 5 Technical Lab</a></li>
<li><a href="https://gis-nspe-tns.github.io/STGIS_UENV3200_UURB3210_sp24/assignments/STGIS_assignment-5_SP24.html">Class 5 Assignment</a></li>
</ul>
<p>A synopsis of the technical steps of the assignment listed as follows:</p>
<ul>
<li>Download <a href="https://www.dropbox.com/s/mch61un30zfwlys/c5_assignment_data.zip?dl=1">Class 5 assignment data</a> which includes 2 DEM tiles + a vector outline of the Manhattan Borough, NYC.</li>
<li>Mosaic the two raster datasets into one continuous raster dataset.</li>
<li>Mask (clip) the mosaic raster via the NYC Manhattan Borough vector layer.</li>
<li>Utilize <code>con</code> statements to isolate pixels that fall into potential flooding and storm surge thresholds.</li>
<li>Utilize the <em>Raster Calculator</em> to derive a final layer with threshold categories.</li>
<li>Utilize the <em>Field Calculator</em> to derive areal totals and percentages across scenario categories.</li>
<li>Create an nominal thematic map and respective legend for the scenario categories.</li>
<li>Incorporate a summary table into the final layout.</li>
<li>Complete assignment submission layout; load to assignment 5 PDF at CANVAS.</li>
</ul>
</section>
<section id="data" class="level2">
<h2 class="anchored" data-anchor-id="data">Data</h2>
<p>The starter data utilized in this mapping includes a vector feature for the Borough of Manhattan and two USGS DEM raster tile coverage for Manhattan.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="STGIS_lab-5_SP24_files/img/1.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><em>USGS NED DEM Metadata - https://apps.nationalmap.gov/datasets/</em></figcaption><p></p>
</figure>
</div>
<p><a href="https://www.dropbox.com/s/mch61un30zfwlys/c5_assignment_data.zip?dl=1">Class 5 assignment data</a></p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="STGIS_lab-5_SP24_files/img/2.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><em>Class 5 assignment data</em></figcaption><p></p>
</figure>
</div>
</section>
<section id="assignment-step-1" class="level2">
<h2 class="anchored" data-anchor-id="assignment-step-1">Assignment Step 1</h2>
<ul>
<li>Download the <a href="https://www.dropbox.com/s/mch61un30zfwlys/c5_assignment_data.zip?dl=1">Class 5 assignment data</a></li>
</ul>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>The original DEM dataset comes from <a href="https://apps.nationalmap.gov/downloader/">USGS National Map</a>. See the animation below for the tile interface where you can download DEM tiles.</p>
</div>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="STGIS_lab-5_SP24_files/img/3.gif" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><em>Original DEM Tiles @ The National Map</em></figcaption><p></p>
</figure>
</div>
<ul>
<li>Create an assignment <code>.mxd</code>, placing it within your assignment 5 directory. Establish both your vector and raster data connections via <em>ArcCatalog</em> to your assignment <code>.mxd</code>.</li>
</ul>
</section>
<section id="assignment-step-2" class="level2">
<h2 class="anchored" data-anchor-id="assignment-step-2">Assignment Step 2</h2>
<ul>
<li>Load both DEM tiles and the vector feature representing the Manhattan Borough outline:</li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="STGIS_lab-5_SP24_files/img/4a.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><em>DEM tiles + vector feature</em></figcaption><p></p>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="STGIS_lab-5_SP24_files/img/4b.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><em>DEM tiles + vector feature in TOC</em></figcaption><p></p>
</figure>
</div>
<ul>
<li><p>Notice that the Area of Interest (AOI) - Manhattan Borough - spans both DEM tiles. In this situation - where a AOI spans across multiple raster extents - the raster tiles need to be ‘merged’ into one continuous surface. In ArcGIS there are multiple ways to do this task, but the easiest and most accessible is the <em>Mosaic to New Raster</em> tool. This tool creates the continuous surface from multiple, separate surfaces. Once complete, this new raster can be ‘clipped’ to the edge of the vector feature representing the Manhattan Borough.</p></li>
<li><p>Enact the extension <em>Spatial Analyst</em>:</p></li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="STGIS_lab-5_SP24_files/img/5.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><em>Spatial Analyst Toggle ON</em></figcaption><p></p>
</figure>
</div>
<ul>
<li>Search for <em>Mosaic to New Raster</em> tool:</li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="STGIS_lab-5_SP24_files/img/6.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><em>Mosaic to New Raster in Search Window</em></figcaption><p></p>
</figure>
</div>
<ul>
<li>Populate the tool:</li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="STGIS_lab-5_SP24_files/img/7.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><em>Mosaic to New Raster Population</em></figcaption><p></p>
</figure>
</div>
</section>
<section id="assignment-step-3" class="level2">
<h2 class="anchored" data-anchor-id="assignment-step-3">Assignment Step 3</h2>
<ul>
<li>With the completion of Step 2, you will have a new raster, <code>DEM_mosaic</code>. However, this new raster still spans <em>outside</em> the project area AOI of Manhattan Borough. We need to ‘clip’ the raster data to the edge of the vector feature for Manhattan Borough. Search for <em>Extract by Mask</em> tool:</li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="STGIS_lab-5_SP24_files/img/8.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><em>Extract by Mask tool in Search</em></figcaption><p></p>
</figure>
</div>
<ul>
<li>Populate the tool:</li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="STGIS_lab-5_SP24_files/img/9.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><em>Extract by Mask tool with inputs</em></figcaption><p></p>
</figure>
</div>
<ul>
<li>Next, navigate to <em>Layer Properties &gt; Symbology</em> within the new <code>man_dem</code> clipped raster. Apply a new <em>Stretched</em> color ramp:</li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="STGIS_lab-5_SP24_files/img/10.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><em>New color ramp for <code>man_dem</code></em></figcaption><p></p>
</figure>
</div>
<ul>
<li>Once complete, remove the previous rasters and save the <code>.mxd</code>:</li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="STGIS_lab-5_SP24_files/img/11.gif" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><em>New color ramp for <code>man_dem</code></em></figcaption><p></p>
</figure>
</div>
<ul>
<li>Zoom into detail for the <code>man_dem</code> raster and run the <em>Pixel Inspector</em> tool along the edge of Manhattan. Notice that values across the interior of the Manhattan Borough (land) are all positive, while values at edge (water) are either <code>0</code> or <code>&lt; 0</code>. In the following step, you will utilize the <em>Raster Calculator</em> to isolate the continuous values into meaningful threshold boolean rasters.</li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="STGIS_lab-5_SP24_files/img/12.gif" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><em>Install and Run Pixel Inspector over `man_dem</em></figcaption><p></p>
</figure>
</div>
</section>
<section id="assignment-step-4" class="level2">
<h2 class="anchored" data-anchor-id="assignment-step-4">Assignment Step 4</h2>
<ul>
<li>At this stage, the continuous raster that has been produced will now be transformed into a series of boolean rasters. You will set a series of conditions and then assign new values to cells meeting these boolean conditions.</li>
</ul>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Whereas expressions denote mainly numbers in elementary algebra, in Boolean algebra, they denote the truth values <code>false</code> and <code>true</code>. These values are represented with binary digits, typically 0 and 1 <em>unless</em> a different binary scheme of two boolean values is chosen.</p>
</div>
</div>
<ul>
<li>Run the series of Conditional (CON) statements in order to isolate raster cells that meet scenario criteria as follows:
<ul>
<li>Which land is already underwater (elevation ≤ 0 m)</li>
<li>Which areas will flood under a best-case scenario (BCS) (≤ 0.28 m)</li>
<li>Which will flood under the worst-case scenario (WCS) (≤ 1.12 m)</li>
<li>Which will flood under an extreme storm surge (≤ 10 m)</li>
<li>Which is safe from flooding under all scenarios (&gt; 10 m)</li>
</ul></li>
<li>You will assign unique values so that you can merge all grids in the final processing step: best-case scenario (value = 1), worst-case scenario (value = 3), flooded by storm surge (value = 5), area currently underwater (value = 0), and land currently above sea level (value = 7). Odd numbers are chosen so that their sums will produce an unique value scheme with complete separation between conditions.</li>
</ul>
<p>To start, search for the conditional tool <code>CON</code>:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="STGIS_lab-5_SP24_files/img/13.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><em>Con Tool @ Spatial Analyst</em></figcaption><p></p>
</figure>
</div>
<ul>
<li>Populate the tool with the first criteria for land vs water:
<ul>
<li>Input conditional raster = <code>man_dem</code></li>
<li>Expression - <code>"VALUE"&lt;=0</code></li>
<li>True value = <code>0</code></li>
<li>False value = <code>7</code></li>
<li>Output to <code>Default.gdb</code> as <code>land</code></li>
</ul></li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="STGIS_lab-5_SP24_files/img/14.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><em>Con Tool @ Spatial Analyst | Land Condition</em></figcaption><p></p>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="STGIS_lab-5_SP24_files/img/15.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><em>Con Tool @ Spatial Analyst | Land Condition | Result</em></figcaption><p></p>
</figure>
</div>
<ul>
<li>Populate the tool with the second criteria for the best case scenario (BCS):
<ul>
<li>Input conditional raster = <code>man_dem</code></li>
<li>Expression - <code>"VALUE"&gt; 0 and "VALUE" &lt;= 0.28</code></li>
<li>True value = <code>1</code></li>
<li>False value = <code>0</code></li>
<li>Output to <code>Default.gdb</code> as <code>flood_BCS</code></li>
</ul></li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="STGIS_lab-5_SP24_files/img/16.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><em>Con Tool @ Spatial Analyst | BCS Condition</em></figcaption><p></p>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="STGIS_lab-5_SP24_files/img/17.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><em>Con Tool @ Spatial Analyst | BCS Condition | Result</em></figcaption><p></p>
</figure>
</div>
<ul>
<li>Populate the tool with the second criteria for the worst case scenario (WCS):
<ul>
<li>Input conditional raster = <code>man_dem</code></li>
<li>Expression - <code>"VALUE"&gt; 0 and "VALUE" &lt;= 1.12</code></li>
<li>True value = <code>3</code></li>
<li>False value = <code>0</code></li>
<li>Output to <code>Default.gdb</code> as <code>flood_WCS</code></li>
</ul></li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="STGIS_lab-5_SP24_files/img/18.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><em>Con Tool @ Spatial Analyst | BCS Condition</em></figcaption><p></p>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="STGIS_lab-5_SP24_files/img/19.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><em>Con Tool @ Spatial Analyst | BCS Condition | Result</em></figcaption><p></p>
</figure>
</div>
<ul>
<li>Populate the tool with the second criteria for the storm surge scenario:
<ul>
<li>Input conditional raster = <code>man_dem</code></li>
<li>Expression - <code>"VALUE"&gt; 0 and "VALUE" &lt;= 10</code></li>
<li>True value = <code>5</code></li>
<li>False value = <code>0</code></li>
<li>Output to <code>Default.gdb</code> as <code>flood_storm</code></li>
</ul></li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="STGIS_lab-5_SP24_files/img/20.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><em>Con Tool @ Spatial Analyst | Storm Surge Condition</em></figcaption><p></p>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="STGIS_lab-5_SP24_files/img/21.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><em>Con Tool @ Spatial Analyst | Storm Surge Condition | Result</em></figcaption><p></p>
</figure>
</div>
<p>Assignment Step 6:</p>
<p>With the scenario outputs complete, utilize the <em>Raster Calculator</em> to create a final output raster using the following formula:</p>
<p><code>"flood_storm" + "flood_BCS" + "flood_WCS" + "land"</code></p>
<ul>
<li>To start, open the <em>Raster Calculator</em> and populate the equation as shown above. Output the result as <code>dem_final</code> into the <code>exports</code> folder within the original data directory:</li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="STGIS_lab-5_SP24_files/img/23.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><em>Raster Calculator | <code>dem_final</code> as output</em></figcaption><p></p>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="STGIS_lab-5_SP24_files/img/24.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><em>Raster Calculator | <code>dem_final</code> as output | Result</em></figcaption><p></p>
</figure>
</div>
</section>
<section id="assignment-step-6" class="level2">
<h2 class="anchored" data-anchor-id="assignment-step-6">Assignment Step 6</h2>
<p>With the raster analysis complete across all scenarios, turn to quantitative summarization. Here an attribute table will be developed to represent the spatial raster analysis results.</p>
<p>To start, open the attribute table attached to <code>dem_final</code>:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="STGIS_lab-5_SP24_files/img/25.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><em><code>dem_final</code> attribute table</em></figcaption><p></p>
</figure>
</div>
<ul>
<li>Next, create a new <code>Double</code> Type column with name <code>sq_meter</code>:</li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="STGIS_lab-5_SP24_files/img/26.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><em><code>sq_meter</code> column creation</em></figcaption><p></p>
</figure>
</div>
<ul>
<li>Populate the column with expression: <code>[COUNT]*900</code></li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="STGIS_lab-5_SP24_files/img/27.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><em><code>sq_meter</code> column population</em></figcaption><p></p>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="STGIS_lab-5_SP24_files/img/28.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><em><code>sq_mile</code> column creation</em></figcaption><p></p>
</figure>
</div>
<ul>
<li>Populate the column with expression: <code>[SQ_METER]*0.00000038610</code></li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="STGIS_lab-5_SP24_files/img/29.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><em><code>sq_mile</code> column population</em></figcaption><p></p>
</figure>
</div>
<ul>
<li>Next, a total land calculation denominator must be created for each scenario nominator. To do this, the <code>water</code> value <code>0</code> must be removed from the attribute table. To do this step, an active editing session must be initiated and the row with <code>VALUE</code> as <code>0</code> is removed:</li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="STGIS_lab-5_SP24_files/img/table-edit.gif" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><em>Enact Table Edit</em></figcaption><p></p>
</figure>
</div>
<ul>
<li>With <code>VALUE</code> as <code>0</code> removed, move to determining the total land area via <em>Statistics of Table</em> (right-click column &gt; statistics):</li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="STGIS_lab-5_SP24_files/img/30.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><em><code>sq_mile</code> summary statistic</em></figcaption><p></p>
</figure>
</div>
<ul>
<li>Create a column as Type <code>Double</code>, Name as <code>PCT_land</code>:</li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="STGIS_lab-5_SP24_files/img/31.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><em><code>PCT_land</code> column creation</em></figcaption><p></p>
</figure>
</div>
<ul>
<li>Utilize the following expression in the new <code>PCT_land</code> column:</li>
</ul>
<p><code>([SQ_Mile/24.645381])*100</code></p>
<div class="callout-warning callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Warning
</div>
</div>
<div class="callout-body-container callout-body">
<p>The value <code>24.645381</code> has been derived from the total of area on land across all scenarios; note that your total land value might be slightly different and you should use that value in place of <code>24.645381</code>.</p>
</div>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="STGIS_lab-5_SP24_files/img/32.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><em><code>PCT_land</code> column population</em></figcaption><p></p>
</figure>
</div>
</section>
<section id="assignment-step-7" class="level2">
<h2 class="anchored" data-anchor-id="assignment-step-7">Assignment Step 7</h2>
<ul>
<li>Create a column as Type <code>Text</code>, Name as <code>Class</code>:</li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="STGIS_lab-5_SP24_files/img/33.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><em><code>Class</code> column creation</em></figcaption><p></p>
</figure>
</div>
<ul>
<li>Next, manually select the row for <code>VALUE</code> <code>7</code>, open <em>Field Calculator</em> and set the expression as:</li>
</ul>
<p><code>"Dry Land: All Scenarios"</code></p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="STGIS_lab-5_SP24_files/img/34.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><em><code>sq_mile</code> summary statistics</em></figcaption><p></p>
</figure>
</div>
<ul>
<li>Continue through the proceeding rows, making sure to enter each class name that corresponds correctly with each value seen in the table below:</li>
</ul>
<table class="table">
<thead>
<tr class="header">
<th>Value</th>
<th style="text-align: center;">Scenario</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>7</td>
<td style="text-align: center;">Above Water (No Flooding)</td>
</tr>
<tr class="even">
<td>12</td>
<td style="text-align: center;">Land flooded by a storm surge</td>
</tr>
<tr class="odd">
<td>15</td>
<td style="text-align: center;">worst-case scenario</td>
</tr>
<tr class="even">
<td>16</td>
<td style="text-align: center;">best-case scenario</td>
</tr>
</tbody>
</table>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="STGIS_lab-5_SP24_files/img/35.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><em><code>Class</code> column complete for all scenarios</em></figcaption><p></p>
</figure>
</div>
<ul>
<li>Prior to exporting the table to the map layout, make any table revisions at this juncture. Utilize the Alias property under <em>Field Properties</em> to fine-tune the attribute table.</li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="STGIS_lab-5_SP24_files/img/36.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><em>Utilize Alias to change column headers as needed</em></figcaption><p></p>
</figure>
</div>
<ul>
<li>Export the table in <code>.dbf</code> format to the <code>exports</code> folder:</li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="STGIS_lab-5_SP24_files/img/table-export.gif" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Table export to <code>.dbf</code> format</figcaption><p></p>
</figure>
</div>
<ul>
<li>Finally, export the table to the layout to begin the final cartographic design process. Save the <code>.mxd</code> before proceeding.</li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="STGIS_lab-5_SP24_files/img/layout.gif" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Export <code>.dbf</code> table to layout</figcaption><p></p>
</figure>
</div>
</section>
<section id="assignment-step-8---map-layout-deliverable" class="level2">
<h2 class="anchored" data-anchor-id="assignment-step-8---map-layout-deliverable">Assignment Step 8 - Map layout &amp; Deliverable</h2>
<ul>
<li><p>To development the final map design, utilize the map example PDF below to help guide your process.</p>
<ul>
<li>Final map layout will include the following elements on either a 11x17” or 8.5x11” Portrait/Landscape 300 DPI:</li>
<li>Main map frame featuring your cartographic output</li>
<li>Insert summary table</li>
<li>A map title</li>
<li>Legend representing each nominal scenario category</li>
<li>Simple scale bar tailored to a meaningful distance(s) for Manhattan, NYC (optional)</li>
<li>North Arrow</li>
<li>Data source &amp; Author tag</li>
</ul></li>
<li><p>Utilize the following Map Examples to guide your design process:</p></li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="STGIS_lab-5_SP24_files/img/map.example.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Assignment Map Example</figcaption><p></p>
</figure>
</div>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>In the map example above, the table does not correspond with values in this assignment example; disregard the exact values in the example map table, but do check your processing results at each step to make sure your analysis is correct for each scenario.</p>
</div>
</div>
<ul>
<li><a href="https://weekly-materials.s3-us-west-1.amazonaws.com/c5.DEM_NYC_map.example.pdf">Map Example</a></li>
</ul>
</section>
<section id="concluding-remarks" class="level2">
<h2 class="anchored" data-anchor-id="concluding-remarks">Concluding Remarks</h2>
<ul>
<li><p>In this assignment, you have covered several fundamental raster-based processes to achieve a meaningful quantitative result for a pressing climate-related spatial problem. Returning to the original questions, we can now answer them both through the spatial patterns seen in the cartographic output as well as the summary table result of the assignment.</p></li>
<li><p>For the first question <em>How much of Manhattan will be inundated by rising sea levels by 2100?</em> we can answer that the best case scenario is approximately <code>4.4%</code> of Manhattan’s land mass. In the worst case scenario, both the map and the summary result report back <code>2.7%</code>; however, inundation would be additive in the worst case scenario so it really would be both scenarios together for approximately <code>7.1%</code> in the worst case scenario.</p></li>
<li><p>For the second question <em>How much of Manhattan is at risk of a 10 m (30-foot) storm surge?</em> both mapping and summary table found a very significant spatial extent at <code>44.38%</code>. Following the additive logic of the worst case scenario for sea level rise, the 10 m storm surge equates to the <code>7.1%</code> land mass given over to sea level rise coupled with the storm surge <code>44.38%</code> for a total of <code>51.48%</code>, literally more than half of Manhattan land mass. We need to keep in mind that this is an unprecedented value; Hurricane Sandy, for as bad as it was, amounted to a 14-foot storm surge.</p></li>
<li><p>Of important note, both cartographic and summary results are limited in total accuracy due to the relatively large cell size of the assignment DEM input. We utilized this relatively course pixel size (30-meter) in order to speed up the assignment processing. If we were to use 10-meter, 1-meter or even sub-meter resolution DEM, we would certainly achieve more accurate results across all scenarios - it would just take more processing resources to process the more resolute raster data.</p></li>
<li><p>Finally, our Manhattan Borough boundary included the administrative boundary including water areas. In order to better represent land area, NYC Planning does offer an accurate <a href="https://www.nyc.gov/site/planning/data-maps/open-data/districts-download-metadata.page">shoreline dataset for all 5 boroughs</a>. If we were to use this vector boundary coupled with more resolute DEM raster pixels, we would be able to achieve a more accurate final result in both cartographic and summary table output.</p></li>
</ul>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var filterRegex = new RegExp(/^(?:http:|https:)\/\/www\.quarto\.org\/custom/);
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
    var links = window.document.querySelectorAll('a:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
          // target, if specified
          link.setAttribute("target", "_blank");
          // default icon
          link.classList.add("external");
      }
    }
});
</script>
</div> <!-- /content -->



<script src="STGIS_lab-5_SP24_files/libs/quarto-html/zenscroll-min.js"></script>
</body></html>