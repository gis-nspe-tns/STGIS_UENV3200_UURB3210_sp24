<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.280">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2024-02-10">

<title>Class 4 Lecture Demonstration Lab</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
</style>


<script src="c4_lecture_demo_files/libs/clipboard/clipboard.min.js"></script>
<script src="c4_lecture_demo_files/libs/quarto-html/quarto.js"></script>
<script src="c4_lecture_demo_files/libs/quarto-html/popper.min.js"></script>
<script src="c4_lecture_demo_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="c4_lecture_demo_files/libs/quarto-html/anchor.min.js"></script>
<link href="c4_lecture_demo_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="c4_lecture_demo_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="c4_lecture_demo_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="c4_lecture_demo_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="c4_lecture_demo_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<style>html{ scroll-behavior: smooth; }</style>

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="c4_lecture_demo_files/styles.css">
</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#testing-compactness-census-hierarchies-qualitative-variables-for-choropleth-mapping" id="toc-testing-compactness-census-hierarchies-qualitative-variables-for-choropleth-mapping" class="nav-link active" data-scroll-target="#testing-compactness-census-hierarchies-qualitative-variables-for-choropleth-mapping">Testing Compactness, Census Hierarchies &amp; Qualitative Variables for Choropleth Mapping</a></li>
  <li><a href="#preamble" id="toc-preamble" class="nav-link" data-scroll-target="#preamble">Preamble</a></li>
  <li><a href="#data" id="toc-data" class="nav-link" data-scroll-target="#data">Data</a></li>
  <li><a href="#part-i" id="toc-part-i" class="nav-link" data-scroll-target="#part-i">Part I:</a></li>
  <li><a href="#part-ii" id="toc-part-ii" class="nav-link" data-scroll-target="#part-ii">Part II:</a></li>
  <li><a href="#part-iii" id="toc-part-iii" class="nav-link" data-scroll-target="#part-iii">Part III:</a></li>
  <li><a href="#concluding-remarks" id="toc-concluding-remarks" class="nav-link" data-scroll-target="#concluding-remarks">Concluding Remarks</a></li>
  </ul>
</nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Class 4 Lecture Demonstration Lab</h1>
<p class="subtitle lead">Spring 2024 | <a href="https://courses.newschool.edu/courses/UENV3200/">UENV3200</a>, <a href="https://courses.newschool.edu/courses/UURB3210/">UURB3210</a></p>
</div>



<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">February 10, 2024</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<section id="testing-compactness-census-hierarchies-qualitative-variables-for-choropleth-mapping" class="level2">
<h2 class="anchored" data-anchor-id="testing-compactness-census-hierarchies-qualitative-variables-for-choropleth-mapping">Testing Compactness, Census Hierarchies &amp; Qualitative Variables for Choropleth Mapping</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="c4_lecture_demo_files/img/1.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Qualitative Dot Density Thematic Mapping</figcaption><p></p>
</figure>
</div>
</section>
<section id="preamble" class="level2">
<h2 class="anchored" data-anchor-id="preamble">Preamble</h2>
<p>This week’s assignment will feature mapping US Census Data via the choropleth method. In this type of mapping, polygons hold the mapping variable(s). In this demonstration lab, we will explore dimensions of US Census polygons generally; testing for compactness, reviewing census hierarchy and mapping race in New York State via the dot density method.</p>
<p><strong>First</strong>, we will test for compactness of US congressional districts via the <a href="https://en.wikipedia.org/wiki/Polsby%E2%80%93Popper_test">Polsby Popper method</a></p>
<p><strong>Second</strong>, we will review standard US Census hierarchy at large scales.</p>
<p><strong>Third</strong>, we will map several race variables for New York State Census Tracts using the dot density method.</p>
</section>
<section id="data" class="level2">
<h2 class="anchored" data-anchor-id="data">Data</h2>
<ul>
<li><a href="https://www.dropbox.com/s/zpvjamhtdd4bvaa/c.4.demo.lab.data.zip?dl=1">Class 4 Demonstration Lab 4 Data</a></li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="c4_lecture_demo_files/img/2.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Lab 4 Data</figcaption><p></p>
</figure>
</div>
<ul>
<li><code>ACS_NY-census-tracts_2020</code> = US Census Data for New York State Census Tracts (Part III).</li>
<li><code>cb_2014_us_cd114_500k</code> = 114th US Congressional Districts (Part I).</li>
<li><code>cb_2018_us_cd114_500k</code> = 116th US Congressional Districts (Part I).</li>
<li><code>tlgdb_2022_a_36_ny.gdb</code> = Geodatabase of various Census geographies for New York State (Part II).</li>
</ul>
</section>
<section id="part-i" class="level2">
<h2 class="anchored" data-anchor-id="part-i">Part I:</h2>
<p>Open ArcGIS and point <em>ArcCatalog</em> to the <code>c.4.demo.lab.data</code> lab data. Remember to uncompress (unzip) the data directory before proceeding. Save the connected <code>.mxd</code> as <code>lab4.mxd</code>.</p>
<p>The <a href="https://www.azavea.com/blog/2016/07/11/measuring-district-compactness-postgis/">Polsby-Popper measure</a> is the ratio of the area of the district to the area of a circle whose circumference is equal to the perimeter of the district. The formula for calculating the Polsby-Popper score Formula is as follows where <code>A</code> is the area of the district and <code>P</code> is the perimeter of the district:</p>
<p><span class="math display">\[
4pi*A/P^2
\]</span></p>
<p>Load in both the 114th and 116th US Congressional Districts to the <code>lab4.mxd</code>. Make sure to use the <code>_albers</code> versions. In both layers, create a new field <code>score</code> as data type <em>Double</em>.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="c4_lecture_demo_files/img/3.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Import 114th and 116th US Congressional Districts; use the <code>albers</code> version of each.</figcaption><p></p>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="c4_lecture_demo_files/img/4.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Create <code>score</code> field</figcaption><p></p>
</figure>
</div>
<p>Next, open the <em>Field Calculator</em> and enter the following formula for the compactness score:</p>
<p><code>([Shape_Area]*4*3.14)/( [Shape_Leng]* [Shape_Leng])</code></p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="c4_lecture_demo_files/img/5.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Apply Polsby-Popper measure</figcaption><p></p>
</figure>
</div>
<p>Next, within the <code>score</code> field, access the <em>Statistics</em> tab and note the <em>Mean</em> value for each version of Congressional Districts.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="c4_lecture_demo_files/img/6.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">View <em>Statistics</em> at field level</figcaption><p></p>
</figure>
</div>
<p>Next, access <em>Extensions</em> from the top bar menu and toggle ON the <em>Geospatial Analyst</em>. We will review how this extension can help us explore a data field.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="c4_lecture_demo_files/img/7.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Toggle ON the extension <em>Geospatial Analyst</em></figcaption><p></p>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="c4_lecture_demo_files/img/8.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Interactive Histogram within <em>Geospatial Analyst</em></figcaption><p></p>
</figure>
</div>
<p>Next, within the <code>score</code> field, we will apply a Standard Deviation classification for Congressional Districts so that we can easily see the most vs.&nbsp;least gerrrymandered districts.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="c4_lecture_demo_files/img/9.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Classify <code>score</code> via Standard Deviation Method</figcaption><p></p>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="c4_lecture_demo_files/img/10.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">View Standard Deviation results</figcaption><p></p>
</figure>
</div>
</section>
<section id="part-ii" class="level2">
<h2 class="anchored" data-anchor-id="part-ii">Part II:</h2>
<p>Remove the Congressional Districts from the <code>lab4.mxd</code> and point to the <code>.gdb</code> for the American Community Survey 2016-2022 Census Geographies:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="c4_lecture_demo_files/img/11.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><code>.gdb</code> Structure w/in <em>ArcCatalog</em></figcaption><p></p>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="c4_lecture_demo_files/img/12.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Layers imported into TOC</figcaption><p></p>
</figure>
</div>
<p>Utilizing the <a href="https://www2.census.gov/geo/pdfs/maps-data/data/tiger/tgrshp2020/2020_TIGER_GDB_Record_Layouts.pdf">US Census ’TIGER’metadata</a>, we will discuss in some depth the various census geographies, how they operate, and what features are best used for various mapping scenarios.</p>
</section>
<section id="part-iii" class="level2">
<h2 class="anchored" data-anchor-id="part-iii">Part III:</h2>
<p>In this last part of the Class 4 Demonstration Lab, we will turn to <em>Categorical</em> symbolization for US Census Data. We will use the <em>Dot Density</em> approach for race demographics in New York State.</p>
<p>Remove the data from Part II and replace with the American Community Survey data for New York State:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="c4_lecture_demo_files/img/13.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">New York State American Community Survey 2016-2020 5 year Product</figcaption><p></p>
</figure>
</div>
<p>The next symbolization will feature <em>Categorical</em> values based racial categories. The core racial categories are in table <a href="https://censusreporter.org/tables/B02001/">B02001</a>:</p>
<pre><code>- B02001e2 Total Population, White
- B02001e3 Total Population: Black or African American
- B02001e4 Total Population: American Indian and Alaska Native
- B02001e5 Total Population: Asian
- B02001e6 Total Population: Native Hawaiian and Other Pacific Islander
- B02001e7 Total Population: Some other race
- B02001e8 Total Population: Two or more races
- B02001e9 Total Population: Two races including Some other race
- B02001e10 Total Population: Two races excluding Some other race, and three or more races
</code></pre>
<p>We will discuss <a href="https://censusreporter.org/tables/B03002/">Table B03002: Hispanic or Latino Origin by Race</a>.</p>
<p>We will then turn to <a href="https://censusreporter.org/tables/B03003/">Table B03003: Hispanic or Latino Origin</a>.</p>
<div class="callout-important callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>“hispanic/latino” is not a race, but a characteristic tracked independently. Note that hispanic respondents disproportionately choose “some other race alone”: nationwide, more than 25% of hispanics make that choice, compared to a fraction of a percent of non-hispanics. <a href="https://censusreporter.org/topics/race-hispanic/">Census Reporter</a>.</p>
</div>
</div>
<p>Next, begin the <em>Dot Density</em> mapping process by placing racial category fields into the symbol:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="c4_lecture_demo_files/img/14.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Applying <em>Dot Density</em> to the New York State racial categories</figcaption><p></p>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="c4_lecture_demo_files/img/15.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Review the <em>Dot Density</em> results</figcaption><p></p>
</figure>
</div>
</section>
<section id="concluding-remarks" class="level2">
<h2 class="anchored" data-anchor-id="concluding-remarks">Concluding Remarks</h2>
<p>In this second thematic mapping lab, we explored important dimensions of choropleth mapping and applied symbolization to racial categories using the <em>Dot Density</em> approach. In the upcoming <a href="https://gis-nspe-tns.github.io/STGIS_UENV3200_UURB3210_sp24/labs/STGIS_lab-4_SP24.html">technical lab (Wednesday)</a>, we will dive deeper into choropleth mapping for <a href="https://www.census.gov/newsroom/press-kits/2021/acs-5-year.html">US Census data using the American Community Survey 5-year product</a>.</p>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var filterRegex = new RegExp(/^(?:http:|https:)\/\/www\.quarto\.org\/custom/);
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
    var links = window.document.querySelectorAll('a:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
          // target, if specified
          link.setAttribute("target", "_blank");
          // default icon
          link.classList.add("external");
      }
    }
});
</script>
</div> <!-- /content -->



<script src="c4_lecture_demo_files/libs/quarto-html/zenscroll-min.js"></script>
</body></html>